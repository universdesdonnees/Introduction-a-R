---
title: 'R : Introduction à R — Analyse R | Cours 1'
author: "Ményssa Cherifa-Luron"
date: "2023-09-15"
output:
  pdf_document:
    includes:
      in_header: header.tex
    latex_engine: xelatex
    toc: true
    toc_depth: 3
---

```{r setup, include=FALSE}
knitr::opts_chunk$set(echo = TRUE)
```

# Introduction 

Créé en 1993, R est un langage de programmation open source spécialement conçu pour l'analyse statistique et la visualisation des données. Facile à prendre en main et très efficace, il est un outil essentiel pour tous les acteurs.trices de la data science.

Le cours vise à vous fournir une solide base de programmation en R, en mettant l'accent sur la compréhension des concepts fondamentaux, la pratique régulière et l'évaluation continue de vos compétences. Les démonstrations, les exercices et les QCM sont conçus pour vous aider à développer votre maîtrise de R au fil du cours.

## Organisation 
Contenu du Cours : 
- Démonstrations 
- Exercices 

## Ressources 

- [Rbloggers](https://www.r-bloggers.com/) : Blog Populaire sur le langage R 
- [Datacamp](https://datacamp.pxf.io/MmRNOK) : Plateforme d’apprentissage de la data science interactive 
- [Big Book of R](https://www.bigbookofr.com/) : Edition qui rassemble des livres open-source sur le langage R 
- [Introduction accélérée au langage R pour la data science](https://amzn.to/49OkTWV) : L’essentiel et plus de tout ce que nous verrons

# Les bases de la programmation R

## Qu'est-ce que R ? 

R est un langage de programmation et un environnement logiciel libre dédié à l'analyse statistique et à la représentation graphique. Il est largement utilisé par les statisticiens, data scientist et les chercheurs pour diverses analyses et projets de recherche. 

L'une des principales raisons pour lesquelles R est si populaire est sa flexibilité et sa capacité à s'intégrer avec d'autres langages de programmation comme Python, Java, et C++. De plus, R dispose d'une vaste bibliothèque de packages, ce qui le rend extrêmement extensible.

## Concepts de base de l'analyse des données.

L'analyse des données est le processus d'inspection, de nettoyage, de transformation et de modélisation des données dans le but de découvrir des informations utiles et de soutenir la prise de décision. 

Avec R, vous pouvez effectuer toutes ces étapes de manière efficace et précise. Dans ce cours, vous retrouverez les concepts de base de l'analyse des données avec R :  types de données, manipulation des données, visualisation des données et l'interprétation des résultats d’analyse.

## Installation de R et RStudio sur différentes plateformes.

**Installation de R** : Rendez-vous sur le site officiel de R  et téléchargez la version appropriée pour votre système d'exploitation (Windows, Mac, Linux). Suivez les instructions d'installation.

**Installation de RStudio** : Après avoir installé R, allez sur le site officiel de RStudio et téléchargez la version gratuite de RStudio Desktop. Installez-le comme n'importe quel autre logiciel.

![Figure 1. Interface de RStudio](../Images/rstudio)

**Lancement de RStudio** : Une fois RStudio installé, ouvrez-le. Vous verrez quatre panneaux principaux : 

- **la 1) console**
- **2) l'éditeur de script (source),**
- **3) l'environnement et l'historique, et **
- **les 4) fichiers/plots/packages/aide (output).**

RStudio est une interface de développement intégrée (IDE) pour R. 

Elle offre une interface utilisateur conviviale pour R, ce qui facilite l'écriture de code, 
l'exécution de scripts et la visualisation des résultats. 

![Figure 2. Structure basique pour les projets. Source: https://martinctc.github.io/.](../Images/projet)

**! Toujours prendre la bonne habitude de définir un projet dans RStudio**

## Premiers pas avec R

Pour commencer avec R et RStudio 
Dans la console, vous pouvez taper des commandes R et voir les résultats immédiatement. 
Essayez de taper 2 + 2 et appuyez sur Entrée. Vous devriez voir le résultat 4.

```{r}
2 + 2
```

## Commentaires 


Un commentaire en R est un morceau de texte dans votre script R qui n'est pas exécuté comme une partie du code. Les commentaires sont essentiels pour documenter ce que fait votre code, clarifier des parties complexes, ou laisser des notes pour vous-même ou pour d'autres personnes qui pourraient lire ou utiliser votre code plus tard. 

En R, un commentaire est créé en utilisant le symbole **#**.

```{r}
# Ceci est un commentaire simple

x <- 5  # Ceci est un commentaire suivant une instruction

```


### Installer et importer un package 
Les packages sont des collections de fonctions R et de données. Pour installer un package, utilisez la commande 

```{r}
# install.packages("nom_du_package")
```

Par exemple, pour installer le package ggplot2, tapez install.packages("ggplot2"). 
Pour utiliser le package, tapez library(ggplot2).

```{r}
# library(ggplot2)
```

### Demander de l'aide 
Si vous êtes perdu ou si vous avez besoin d'informations sur une fonction, tapez ?nom_de_la_fonction. 
Par exemple, ?mean vous communiquera des informations sur la fonction mean.

```{r}
?mean
# help(mean)
```

### Écrire et exécuter son premier script R.

Écrire et exécuter un script R est une étape fondamentale pour se familiariser avec le langage R.
Un script R est simplement un fichier contenant une séquence de commandes que R peut exécuter. 
Voici comment vous pouvez écrire et exécuter votre premier script R.

### Créer un nouveau script 

Dans RStudio, allez dans File > New File > R Script. Cela ouvrira un nouvel onglet d'éditeur où vous pouvez commencer à écrire votre script.

Écrire le script 
Dans l'éditeur, commencez à taper vos commandes R. Par exemple, vous pouvez créer un vecteur, calculer sa moyenne, ou tracer un graphique.

Exécuter le script 
Pour exécuter votre script, vous pouvez soit sélectionner les lignes que vous souhaitez exécuter et cliquer sur le bouton Run, soit sauvegarder votre script et le source dans la console R en utilisant la commande source("chemin_vers_votre_script.R").

Sauvegarder le script
Il est toujours recommandé de sauvegarder votre script pour une utilisation future. Pour ce faire, allez dans File > Save ou appuyez sur Ctrl + S.

# Démonstration

> Travailler par projets dans RStudio. 
> Création du premier script dans le projet enseignement R 
> Tour d'horizon de RStudio :  commandes d'exécution, cheatsheets, les packages...
> Concept de base : 
•	Création, modification, suppression d’un objet et structure dans R
•	 Opérations arithmétiques
•	 Unité élémentaire : le vecteur

## Création, modification, suppression d’un objet et structure dans R

```{r}
# Répertoire de travail et changer de répertoire 

# Afficher le répertoire courant : getwd() 

# Changer de répertoire courant 
# setwd(dir = "chemin_vers_nouveau_repertoire")

# Installation d'un package 
# install.packages("ggplot2")

# Chargement d'un package
# library(dplyr)

# Afficher tous les jeux de données par défaut dans R : data()
data()

# Afficher la description d'un jeu de données 
?mtcars

# Charger un jeu de données 
data("mtcars")

```

```{r}
# Création de la variable x : " <-" 
x <- 2

# Afficher la variable x
print(x)

# Afficher le type de la variable x
typeof(x)

# Creation d'une chaine de caractere
chaine <- "Hello, Word!"
print(chaine)
typeof(chaine)

```
```{r}

# Règle de nommage des variables (R sensible à la casse)
# tout en minuscule : nomvariable ;
# — séparation par un point : nom.variable ;
# — séparation par un trait de soulignement : nom_variable ;
# — lowerCamelCase, avec la première lettre en minuscule : nomVariable ;
# — PascalCase, avec la première lettre en majuscule : NomVariable.

mavariable  <-  "jour"
ma.variable <-  "semaine"
print(mavariable)
print(ma.variable)
mavariable123 <- "mois"
print(mavariable123)
```


```{r}
# Affichage de la variable x : print() / sprintf
print(x)
sprintf("%d",x)
sprintf("%s", chaine)
x <- 3
sprintf("J'ai %d bananes", x)

```

```{r}
# Valeur arrondie : round() 
mon_nombre <-  3.2

# Arrondir à la valeur entière 
round(mon_nombre, 0)
```


```{r}
# Vérification du type de la variable : class, is.character, is.numeric ... 
class(mon_nombre)
is.numeric(mon_nombre) # renvoie TRUE
is.character(mon_nombre) # renvoie FALSE

# Convertir des variables numériques <-  char | char -> numerique
age_character <- "16"
is.character(age_character)

age_numeric <-  as.numeric(as.character(age_character))
is.numeric(age_numeric)

```

```{r}
# Suppression d'un objet : rm 
rm(age)

# Affiche les éléments dans l'enV
ls()

# Supprime tous les éléments dans l'enV
rm(list = ls())
```

## Opérations arithmétiques

```{r}
#  + : addition,
#  - : soustraction,
#  * : multiplication,
#  / : division,
#  ˆ ou **: puissance,
# sqrt() : racine carré
#  %/% : division entière,
#  %% : modulo = reste de la division entière

x <- 3
y <- 5
x + y
x - y
x * y 
x / y
# Puissance 
x ^ 2
x**2
# Racine carré
sqrt(25)
x %% y

```

## Unité élémentaire : le vecteur

```{r}
# Création d'un vecteur : int, char  
mon_vecteur <- c(1, 9, 10, 35)
print(mon_vecteur)

vecteur_caractere <-  c("Hello", "Word", "!")
print(vecteur_caractere)
```

```{r}
# Typage automatique de 2 en chaine de caractère
vecteur_multiple <-  c("Hello", 2) 
print(vecteur_multiple)
```

```{r}
# Indicage
vecteur_caractere[2] # affiche l'élément 2 du vecteur
vecteur_caractere[3] # affiche l'élément 3 du vecteur
mon_vecteur[1:3] # affiche les 3 premieres valeurs du vecteur
```

```{r}
mon_vecteur <- c(1, 9, 10, 35)
addition <- mon_vecteur[1] + mon_vecteur[4]
print(addition)

# Opérations d'un vecteur : Longueur, somme, moyenne, ...
length(mon_vecteur)
sum(mon_vecteur)
mean(mon_vecteur)
```
```{r}
# Cas des Valeurs manquantes dans un vecteur 
vecteur_valeur_manquante <-  c(1, NA, 10, 24)

sum(vecteur_valeur_manquante) # renvoie NA
sum(vecteur_valeur_manquante, na.rm = TRUE) # retire les valeurs manquantes

mean(vecteur_valeur_manquante) # renvoie NA
mean(vecteur_valeur_manquante, na.rm = TRUE) # retire les valeurs manquantes
```

```{r}
# Combinaison de vecteur 
mon_vecteur1 <- c(1, 9, 10, 35)
mon_vecteur2 <- c(27, 49)

nouveau_vecteur <- c(mon_vecteur1, mon_vecteur2)
print(nouveau_vecteur)
```

```{r}
# Combinaison de vecteur et "collage": paste, paste0 et sprintf (%s, %f ou %g)
nom <- "Dupont"
prenom <- "Jean"
age <- 15

identite <- paste(prenom, nom, sep = " ")
print(identite)
```

```{r}

# Recyclage de identité avec ajout de l'age
identite <- paste(identite, age, sep = " ")

# Recyclage d'identité avec l'ajout de "ans"
identite <- paste0(identite, " ans")
print(identite)

# Définition de l'identité avec paste0
identite <- paste0("Je m'appelle ", prenom, " ", nom, ",", " j'ai ", age, " ans")
```

```{r}
# Recyclage d'un vecteur
x <-  c(1,5)
y <- c(9, 76, 20, 30)
x + y 
```

# Exercices  

Il temps de passer aux premiers exercices contenues dans le fichier **exercices1.txt**. 
Vous trouverez la corrections des exercices dans le fichier **correction_xercices1.R**.
